# üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Merchant ID –¥–ª—è Payme –∏ Click

## ‚ö†Ô∏è –ü—Ä–æ–±–ª–µ–º–∞

–û—à–∏–±–∫–∞ "–ê–±–æ–Ω–µ–Ω—Ç–∞ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç" –∏–ª–∏ "–î–∞–Ω–Ω—ã–µ –Ω–µ–≤–µ—Ä–Ω—ã" –æ–∑–Ω–∞—á–∞–µ—Ç:
- Merchant ID –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
- Merchant –Ω–µ–∞–∫—Ç–∏–≤–µ–Ω
- Merchant –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è —ç—Ç–æ–≥–æ —Ç–∏–ø–∞ –±–∏–∑–Ω–µ—Å–∞

---

## üìã –¢–µ–∫—É—â–∏–µ ID (–æ—Ç –ø–∞—Ä—Ñ—é–º–Ω–æ–≥–æ –∞–≤—Ç–æ–º–∞—Ç–∞)

```python
PAYME_MERCHANT_ID = '670a6af1a048b8a82254e446'
CLICK_MERCHANT_ID = '29137'
CLICK_SERVICE_ID = '38261'
```

**–≠—Ç–∏ ID —Ä–∞–±–æ—Ç–∞—é—Ç –¥–ª—è –ø–∞—Ä—Ñ—é–º–Ω–æ–≥–æ –∞–≤—Ç–æ–º–∞—Ç–∞, –ù–û:**
- –ú–æ–≥—É—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞—Ç—å –¥–ª—è —Ñ–æ—Ç–æ–±—É–¥–∫–∏
- –í–æ–∑–º–æ–∂–Ω–æ –Ω—É–∂–Ω–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—ã–π merchant

---

## üéØ –†–µ—à–µ–Ω–∏–µ

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ ID

–ï—Å–ª–∏ merchant –æ—Ç –ø–∞—Ä—Ñ—é–º–Ω–æ–≥–æ –∞–≤—Ç–æ–º–∞—Ç–∞ –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –∏ –¥–ª—è —Ñ–æ—Ç–æ–±—É–¥–∫–∏:

1. –í–æ–π–¥–∏—Ç–µ –≤ –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç Payme/Click
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ merchant –∞–∫—Ç–∏–≤–µ–Ω
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é –±–∏–∑–Ω–µ—Å–∞
4. –î–æ–±–∞–≤—å—Ç–µ "–§–æ—Ç–æ–±—É–¥–∫–∞" –≤ –æ–ø–∏—Å–∞–Ω–∏–µ –µ—Å–ª–∏ –Ω—É–∂–Ω–æ

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—ã–π Merchant

–ï—Å–ª–∏ –Ω—É–∂–µ–Ω –æ—Ç–¥–µ–ª—å–Ω—ã–π merchant –¥–ª—è —Ñ–æ—Ç–æ–±—É–¥–∫–∏:

#### –î–ª—è Payme:

1. –ó–∞–π–¥–∏—Ç–µ –Ω–∞ https://business.paycom.uz/
2. –í–æ–π–¥–∏—Ç–µ –≤ –∞–∫–∫–∞—É–Ω—Ç
3. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π merchant:
   - –ù–∞–∑–≤–∞–Ω–∏–µ: "Sony Photobooth"
   - –ö–∞—Ç–µ–≥–æ—Ä–∏—è: "–†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è" –∏–ª–∏ "–£—Å–ª—É–≥–∏"
   - –û–ø–∏—Å–∞–Ω–∏–µ: "–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ñ–æ—Ç–æ–±—É–¥–∫–∞"
4. –ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–ª—É—á–∏—Ç–µ Merchant ID
5. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ webhook URL: `https://–≤–∞—à-–¥–æ–º–µ–Ω.uz/api/payme/webhook`

#### –î–ª—è Click:

1. –ó–∞–π–¥–∏—Ç–µ –Ω–∞ https://click.uz/
2. –í–æ–π–¥–∏—Ç–µ –≤ –±–∏–∑–Ω–µ—Å-–∫–∞–±–∏–Ω–µ—Ç
3. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π —Å–µ—Ä–≤–∏—Å:
   - –ù–∞–∑–≤–∞–Ω–∏–µ: "Sony Photobooth"
   - –ö–∞—Ç–µ–≥–æ—Ä–∏—è: "–£—Å–ª—É–≥–∏"
4. –ü–æ–ª—É—á–∏—Ç–µ:
   - Merchant ID
   - Service ID
5. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ callback URL:
   - Prepare: `https://–≤–∞—à-–¥–æ–º–µ–Ω.uz/api/click/prepare`
   - Complete: `https://–≤–∞—à-–¥–æ–º–µ–Ω.uz/api/click/complete`

---

## üîß –ö–∞–∫ –æ–±–Ω–æ–≤–∏—Ç—å ID –≤ –∫–æ–¥–µ

### –§–∞–π–ª: `backend/app.py`

–ù–∞–π–¥–∏—Ç–µ —Å—Ç—Ä–æ–∫–∏ 22-24:

```python
# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è Payme –∏ Click
PAYME_MERCHANT_ID = '670a6af1a048b8a82254e446'  # üëà –ó–∞–º–µ–Ω–∏—Ç–µ –∑–¥–µ—Å—å
CLICK_MERCHANT_ID = '29137'                      # üëà –ó–∞–º–µ–Ω–∏—Ç–µ –∑–¥–µ—Å—å
CLICK_SERVICE_ID = '38261'                       # üëà –ó–∞–º–µ–Ω–∏—Ç–µ –∑–¥–µ—Å—å
```

–ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à–∏ –Ω–æ–≤—ã–µ ID:

```python
PAYME_MERCHANT_ID = '–í–ê–®_–ù–û–í–´–ô_PAYME_ID'
CLICK_MERCHANT_ID = '–í–ê–®_–ù–û–í–´–ô_CLICK_MERCHANT_ID'
CLICK_SERVICE_ID = '–í–ê–®_–ù–û–í–´–ô_CLICK_SERVICE_ID'
```

–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ñ–∞–π–ª –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ backend.

---

## üß™ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç–∏ ID

### –¢–µ—Å—Ç 1: –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç

```bash
cd backend
python test_qr_generation.py
```

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ URL –∏ –æ—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ.

**–ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ:**
- ‚úÖ –°—Ç—Ä–∞–Ω–∏—Ü—É –æ–ø–ª–∞—Ç—ã ‚Üí ID –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ
- ‚ùå –û—à–∏–±–∫—É "Merchant –Ω–µ –Ω–∞–π–¥–µ–Ω" ‚Üí ID –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ
- ‚ùå "–°–µ—Ä–≤–∏—Å –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω" ‚Üí Merchant –Ω–µ–∞–∫—Ç–∏–≤–µ–Ω

### –¢–µ—Å—Ç 2: –†—É—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ Payme URL

–°–æ–∑–¥–∞–π—Ç–µ URL –≤—Ä—É—á–Ω—É—é:

```
https://checkout.paycom.uz/BASE64_STRING
```

–ì–¥–µ BASE64_STRING —ç—Ç–æ base64 –æ—Ç:
```
m=–í–ê–®_MERCHANT_ID;ac.order_id=test-123;a=100000
```

–û–Ω–ª–∞–π–Ω base64 encoder: https://www.base64encode.org/

### –¢–µ—Å—Ç 3: –†—É—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ Click URL

–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:

```
https://my.click.uz/services/pay?service_id=–í–ê–®_SERVICE_ID&merchant_id=–í–ê–®_MERCHANT_ID&amount=1000.00&transaction_param=test-123
```

---

## üìù –ß–µ–∫-–ª–∏—Å—Ç –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

### –î–ª—è Payme:

- [ ] Merchant –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
- [ ] Merchant –∞–∫—Ç–∏–≤–µ–Ω (—Å—Ç–∞—Ç—É—Å "Active")
- [ ] Webhook URL –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω —Ç–µ—Å—Ç–æ–≤—ã–π –ø–ª–∞—Ç—ë–∂
- [ ] –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—É–º–º–∞: 1000 —Å—É–º (–∏–ª–∏ –≤–∞—à–∞)
- [ ] ID —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –≤ `app.py`

### –î–ª—è Click:

- [ ] –°–µ—Ä–≤–∏—Å –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
- [ ] –°–µ—Ä–≤–∏—Å –∞–∫—Ç–∏–≤–µ–Ω
- [ ] Callback URLs –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã (prepare + complete)
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω —Ç–µ—Å—Ç–æ–≤—ã–π –ø–ª–∞—Ç—ë–∂
- [ ] Merchant ID —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –≤ `app.py`
- [ ] Service ID —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –≤ `app.py`

---

## üåê Webhook URLs (–¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞)

–ö–æ–≥–¥–∞ backend –±—É–¥–µ—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ —Å –¥–æ–º–µ–Ω–æ–º:

### Payme:
```
https://–≤–∞—à-–¥–æ–º–µ–Ω.uz/api/payme/webhook
```

### Click:
```
Prepare: https://–≤–∞—à-–¥–æ–º–µ–Ω.uz/api/click/prepare
Complete: https://–≤–∞—à-–¥–æ–º–µ–Ω.uz/api/click/complete
```

‚ö†Ô∏è **–í–ê–ñ–ù–û:** URL –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–µ–Ω –∏–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞!

–î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:
```bash
ngrok http 5000
```

–ó–∞—Ç–µ–º –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ ngrok URL –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö:
```
https://abc123.ngrok.io/api/payme/webhook
```

---

## üîç –î–µ–±–∞–≥ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞ 1: "–ê–±–æ–Ω–µ–Ω—Ç–∞ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç"

**–ü—Ä–∏—á–∏–Ω–∞:** Payme –Ω–µ –º–æ–∂–µ—Ç –Ω–∞–π—Ç–∏ merchant –ø–æ ID

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ ID –≤ –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ Payme
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–ª–∏ –ø–æ–ª–Ω—ã–π ID
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –Ω–µ—Ç –ª–∏—à–Ω–∏—Ö –ø—Ä–æ–±–µ–ª–æ–≤

### –ü—Ä–æ–±–ª–µ–º–∞ 2: "–î–∞–Ω–Ω—ã–µ –Ω–µ–≤–µ—Ä–Ω—ã"

**–ü—Ä–∏—á–∏–Ω–∞:** Click –Ω–µ –º–æ–∂–µ—Ç –Ω–∞–π—Ç–∏ service/merchant

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Service ID –∏ Merchant ID
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —Å–µ—Ä–≤–∏—Å –∞–∫—Ç–∏–≤–µ–Ω
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é —Å–µ—Ä–≤–∏—Å–∞

### –ü—Ä–æ–±–ª–µ–º–∞ 3: Webhook –Ω–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç

**–ü—Ä–∏—á–∏–Ω–∞:** Backend –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –∏–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞

**–†–µ—à–µ–Ω–∏–µ:**
1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ ngrok –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
2. –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ - –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –¥–æ–º–µ–Ω –∏ HTTPS
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ firewall

---

## üí° –í—Ä–µ–º–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)

–ü–æ–∫–∞ –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ merchant ID, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π endpoint:

```bash
# –ü–æ—Å–ª–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ QR –∫–æ–¥–∞, —Å–∏–º—É–ª–∏—Ä—É–π—Ç–µ –æ–ø–ª–∞—Ç—É:
curl -X POST http://localhost:5000/api/test-payment/photobooth-ORDER_ID
```

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–π–¥—ë—Ç –Ω–∞ –ø–µ—á–∞—Ç—å.

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

### Payme:
- –°–∞–π—Ç: https://paycom.uz/
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞: https://help.paycom.uz/
- Telegram: @payme_support

### Click:
- –°–∞–π—Ç: https://click.uz/
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞: +998 71 200 2004
- Email: support@click.uz

---

## üéØ –ò—Ç–æ–≥

**–®–∞–≥–∏ –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**

1. ‚úÖ –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ –Ω–æ–≤—ã–µ merchant ID –¥–ª—è —Ñ–æ—Ç–æ–±—É–¥–∫–∏
2. ‚úÖ –û–±–Ω–æ–≤–∏—Ç–µ ID –≤ `backend/app.py` (—Å—Ç—Ä–æ–∫–∏ 22-24)
3. ‚úÖ –ù–∞—Å—Ç—Ä–æ–π—Ç–µ webhook URLs
4. ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Å `test_qr_generation.py`
5. ‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∞–ª—å–Ω—ã–π –ø–ª–∞—Ç—ë–∂

**–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –æ–ø–ª–∞—Ç–∞ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å!**

---

**–î–∞—Ç–∞:** 17.12.2025  
**–°—Ç–∞—Ç—É—Å:** –¢—Ä–µ–±—É–µ—Ç—Å—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ Merchant ID
