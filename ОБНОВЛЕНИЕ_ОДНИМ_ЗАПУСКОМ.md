# ‚úÖ –û–ë–ù–û–í–õ–ï–ù–ò–ï: –í–°–ï–û–î–ù–ò–ú –ó–ê–ü–£–°–ö–û–ú!

**–î–∞—Ç–∞:** 23 –¥–µ–∫–∞–±—Ä—è 2025, 05:50 UTC

---

## üéØ –ß–¢–û –ò–ó–ú–ï–ù–ò–õ–û–°–¨

–¢–µ–ø–µ—Ä—å **Telegram –±–æ—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** –≤–º–µ—Å—Ç–µ —Å Flask API!

### –ë—ã–ª–æ (2 —Ç–µ—Ä–º–∏–Ω–∞–ª–∞):
```bash
# –¢–µ—Ä–º–∏–Ω–∞–ª 1
python app.py

# –¢–µ—Ä–º–∏–Ω–∞–ª 2
set TELEGRAM_BOT_TOKEN=—Ç–æ–∫–µ–Ω
python telegram_bot.py
```

### –°—Ç–∞–ª–æ (1 —Ç–µ—Ä–º–∏–Ω–∞–ª):
```bash
set TELEGRAM_BOT_TOKEN=—Ç–æ–∫–µ–Ω
python app.py
```

**–í—Å—ë –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π!** ‚úÖ

---

## üîß –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ `app.py`:

1. ‚úÖ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è Flask API
2. ‚úÖ –°–æ–∑–¥–∞—é—Ç—Å—è —Ç–∞–±–ª–∏—Ü—ã –ë–î
3. ‚úÖ –ó–∞–≥—Ä—É–∂–∞—é—Ç—Å—è session routes
4. ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è Telegram –±–æ—Ç –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –ø–æ—Ç–æ–∫–µ**
5. ‚úÖ Flask API –Ω–∞—á–∏–Ω–∞–µ—Ç —Å–ª—É—à–∞—Ç—å –Ω–∞ –ø–æ—Ä—Ç—É 5000

**–ë–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Ñ–æ–Ω–µ** –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å API –≤ –æ–¥–Ω–æ–º –ø—Ä–æ—Ü–µ—Å—Å–µ!

---

## üöÄ –ó–ê–ü–£–°–ö –°–ò–°–¢–ï–ú–´

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ batch —Ñ–∞–π–ª (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
cd "D:\fotobox+react\photobooth-magic-main\backend"

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ç–æ–∫–µ–Ω
set TELEGRAM_BOT_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_–æ—Ç_BotFather

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ
start_bot_system.bat
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –í—Ä—É—á–Ω—É—é

```bash
cd "D:\fotobox+react\photobooth-magic-main\backend"
set TELEGRAM_BOT_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω
python app.py
```

---

## üìã –í—ã–≤–æ–¥ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ

```
============================================================
üöÄ –ó–ê–ü–£–°–ö –°–ò–°–¢–ï–ú–´ PHOTOBOOTH
============================================================

‚úÖ Flask API: http://localhost:5000
‚úÖ Test endpoint: http://localhost:5000/api/test

ü§ñ –ó–∞–ø—É—Å–∫ Telegram –±–æ—Ç–∞...
‚úÖ Telegram Bot –∑–∞–ø—É—â–µ–Ω!
   Bot Token: 123456789:...

============================================================
–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ!
–ù–∞–∂–º–∏—Ç–µ Ctrl+C –¥–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏
============================================================

 * Serving Flask app 'app'
 * Debug mode: on
 * Running on http://0.0.0.0:5000
```

---

## ‚ö†Ô∏è –í–∞–∂–Ω–æ

### –ï—Å–ª–∏ —Ç–æ–∫–µ–Ω –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω:

```
‚ö†Ô∏è  Telegram –±–æ—Ç –ù–ï –∑–∞–ø—É—â–µ–Ω (—Ç–æ–∫–µ–Ω –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
   –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ: set TELEGRAM_BOT_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω
```

API –≤—Å—ë —Ä–∞–≤–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è, –Ω–æ –±–æ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–µ –±—É–¥–µ—Ç.

### –î–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏:

–ù–∞–∂–º–∏—Ç–µ **Ctrl+C** –æ–¥–∏–Ω —Ä–∞–∑ - –æ—Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –æ–±–∞ (API –∏ –±–æ—Ç).

---

## üìÅ –ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

1. ‚úÖ `backend/app.py` - –¥–æ–±–∞–≤–ª–µ–Ω –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫ –±–æ—Ç–∞
2. ‚úÖ `backend/start_bot_system.bat` - —É–ø—Ä–æ—â—ë–Ω (—Ç–µ–ø–µ—Ä—å –∑–∞–ø—É—Å–∫–∞–µ—Ç —Ç–æ–ª—å–∫–æ app.py)

---

## üéä –ü–†–ï–ò–ú–£–©–ï–°–¢–í–ê

**–î–æ:**
- ‚ùå –ù—É–∂–Ω–æ –æ—Ç–∫—Ä—ã–≤–∞—Ç—å 2 —Ç–µ—Ä–º–∏–Ω–∞–ª–∞
- ‚ùå –õ–µ–≥–∫–æ –∑–∞–±—ã—Ç—å –∑–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞
- ‚ùå –î–≤–∞ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–∞

**–ü–æ—Å–ª–µ:**
- ‚úÖ –û–¥–∏–Ω —Ç–µ—Ä–º–∏–Ω–∞–ª
- ‚úÖ –ë–æ—Ç –≤—Å–µ–≥–¥–∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- ‚úÖ –û–¥–∏–Ω –ø—Ä–æ—Ü–µ—Å—Å (–ª–µ–≥—á–µ —É–ø—Ä–∞–≤–ª—è—Ç—å)
- ‚úÖ –ü—Ä–æ—â–µ –¥–ª—è production (–æ–¥–∏–Ω systemd service)

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

1. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ç–æ–∫–µ–Ω:**
```bash
set TELEGRAM_BOT_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_–æ—Ç_BotFather
```

2. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ:**
```bash
python app.py
```

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—ã–≤–æ–¥:**
- –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: "‚úÖ Telegram Bot –∑–∞–ø—É—â–µ–Ω!"
- Flask API –Ω–∞ http://localhost:5000
- –ë–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Ñ–æ–Ω–µ

4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±–æ—Ç–∞:**
- –û—Ç–∫—Ä–æ–π—Ç–µ –±–æ—Ç–∞ –≤ Telegram
- –û—Ç–ø—Ä–∞–≤—å—Ç–µ /start
- –î–æ–ª–∂–µ–Ω –æ—Ç–≤–µ—Ç–∏—Ç—å –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ–º ‚úÖ

---

## üí° –î–ª—è production

–¢–µ–ø–µ—Ä—å –Ω—É–∂–µ–Ω —Ç–æ–ª—å–∫–æ **–æ–¥–∏–Ω systemd service**:

```ini
[Unit]
Description=Photobooth Backend + Telegram Bot
After=network.target

[Service]
Type=simple
User=www-data
WorkingDirectory=/var/www/photobooth/backend
Environment="TELEGRAM_BOT_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω"
ExecStart=/usr/bin/python3 app.py
Restart=always

[Install]
WantedBy=multi-user.target
```

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞

–û–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏:
- ‚ö°_–§–ò–ù–ê–õ.txt - –æ–±–Ω–æ–≤–ª—ë–Ω
- –§–ò–ù–ê–õ–¨–ù–ê–Ø_–ò–ù–°–¢–†–£–ö–¶–ò–Ø.md - –æ–±–Ω–æ–≤–ª–µ–Ω–∞
- start_bot_system.bat - —É–ø—Ä–æ—â—ë–Ω

---

**–§–∞–π–ª:** D:\fotobox+react\photobooth-magic-main\backend\–û–ë–ù–û–í–õ–ï–ù–ò–ï_–û–î–ù–ò–ú_–ó–ê–ü–£–°–ö–û–ú.md
